var Site=function(e){var t=(e("html"),e(".site-container")),n=t.find(".header"),o=t.find(".content"),a=(t.find(".footer"),[]),i="",r="sitdown";return{init:function(){this.registerHandlebarHelpers(),this.bindEvents(),this.renderPeopleList(city)},bindEvents:function(){var t=this;n.on("click","h1 + a",function(e){e.preventDefault(),t.scrollToElement(o)}),o.on("submit","form",function(e){e.preventDefault(),t.getSelectedPlaces(),t.renderFinalPlace(i)}),o.on("change",'input[type="radio"]',function(){var t=e('input[type="radio"]:checked').val();r=t})},compareSelectedPlaces:function(e){return 0!==_.intersection.apply(_,e).length?_.intersection.apply(_,e):_.union.apply(_,e)},customAlertBox:function(e){bootbox.dialog({message:e.message,title:e.title,buttons:{confirm:{label:e.buttonText,className:"btn-primary",callback:function(){e.success()}}}})},displayAlertMessage:function(){var e={message:"Please choose what type of lunch you would like.",title:"Alert",buttonText:"Ok",success:function(){}};this.customAlertBox(e)},getPerson:function(e,t){switch(e){case"stl":return _.filter(stlLunchees.people,function(e){return e.name===t})[0];case"atl":return _.filter(atlLunchees.people,function(e){return e.name===t})[0]}},getPersonFoodPlaces:function(e,t){switch(t){case"delivery":return e.delivery;case"fast":return e.fast;case"sitdown":return e.sitdown;case"special":return e.special}},getRandomPlace:function(e){var t=Math.floor(Math.random()*e.length);return e[t]},getSelectedPlaces:function(){var t=this;a=[],e('input[type="checkbox"]:checked').each(function(){var n=e(this).val(),o=(this.checked,t.getPerson(city,n)),a=t.getPersonFoodPlaces(o,r);t.setSelectedPlaces(a)}),i=this.compareSelectedPlaces(a)},renderPeopleList:function(t){var n=e("#person-list-template").html(),a=Handlebars.compile(n),i="stl"===t?stlLunchees:atlLunchees,r=a(i);o.find("h2 + ul").html(r)},renderFinalPlace:function(e){var t=["Dude","Buddy","Goof Ball","Nerd","Silly Goose","Prison Barber","You lewd, crude, rude, bag of pre-chewed food dude","Turd","Kiddo","Potato Chip","Lunch Box","Knucklehead","Ubergoober","Butt Nugget","Lollygagger","Scalawag","Swashbuckler","Dork","Doofus","Block Head","Big Meanie"],n=Math.floor(Math.random()*t.length),o=void 0===this.getRandomPlace(e)?"You need to choose someone, "+t[n]+"!":this.getRandomPlace(e),a=void 0===this.getRandomPlace(e)?"Alert":"You are going to";buttonTxt=void 0===this.getRandomPlace(e)?"Ok":"Let's Go";var i={message:o,title:a,buttonText:buttonTxt,success:function(){}};this.customAlertBox(i)},registerHandlebarHelpers:function(){Handlebars.registerHelper("toLowerCase",function(e){return e.toLowerCase()})},setSelectedPlaces:function(e){a.push(e)},scrollToElement:function(t,n){n=n||0,e("body, html").animate({scrollTop:t.offset().top+n})}}}(jQuery);$(function(){Site.init()}),$(window).load(function(){});