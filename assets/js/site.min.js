var Site=function(e){var t=(e("html"),e(".site-container")),n=t.find(".header"),a=t.find(".content"),s=(t.find(".footer"),{people:[{name:"Dan",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap","Sugarfire"],fast:["Subway","Arbys","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]},{name:"Amanda",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap"],fast:["Arbys","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]},{name:"Jared",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap","Sugarfire"],fast:["Subway","Arbys","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]},{name:"Bill",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap","Sugarfire"],fast:["Subway","Arbys","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]},{name:"Jacob",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap","Sugarfire"],fast:["Subway","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]},{name:"Erica",special:["Deweys","Trailhead Brewing Co","Old Mill Stream Inn"],sitdown:["Massas","El Agave","The Tap","Sugarfire"],fast:["Subway","Jimmy Johns","Imos"],delivery:["Jimmy Johns","Imos"]}]}),o=[],i="",l="sitdown";return{init:function(){this.registerHandlebarHelpers(),this.bindEvents(),this.renderPeopleList()},bindEvents:function(){var t=this;n.on("click","h1 + a",function(e){e.preventDefault(),t.scrollToElement(a)}),a.on("submit","form",function(e){e.preventDefault(),t.getSelectedPlaces(),t.renderFinalPlace(i)}),a.on("change",'input[type="radio"]',function(){var t=e('input[type="radio"]:checked').val();l=t})},compareSelectedPlaces:function(e){return 0!==_.intersection.apply(_,e).length?_.intersection.apply(_,e):_.union.apply(_,e)},customAlertBox:function(e){bootbox.dialog({message:e.message,title:e.title,buttons:{confirm:{label:e.buttonText,className:"btn-primary",callback:function(){e.success()}}}})},displayAlertMessage:function(){var e={message:"Please choose what type of lunch you would like.",title:"Alert",buttonText:"Ok",success:function(){}};this.customAlertBox(e)},getPerson:function(e){return _.filter(s.people,function(t){return t.name===e})[0]},getPersonFoodPlaces:function(e,t){switch(t){case"delivery":return e.delivery;case"fast":return e.fast;case"sitdown":return e.sitdown;case"special":return e.special}},getRandomPlace:function(e){var t=Math.floor(Math.random()*e.length);return e[t]},getSelectedPlaces:function(){var t=this;o=[],e('input[type="checkbox"]:checked').each(function(){var n=e(this).val(),a=(this.checked,t.getPerson(n)),s=t.getPersonFoodPlaces(a,l);t.setSelectedPlaces(s)}),i=this.compareSelectedPlaces(o)},renderPeopleList:function(){var t=e("#person-list-template").html(),n=Handlebars.compile(t),o=s,i=n(o);a.find("h2 + ul").html(i)},renderFinalPlace:function(e){var t=["Dude","Buddy","Goof Ball","Nerd","Silly Goose"],n=Math.floor(Math.random()*t.length),a=void 0===this.getRandomPlace(e)?"You need to choose someone, "+t[n]+"!":this.getRandomPlace(e),s=void 0===this.getRandomPlace(e)?"Alert":"You are going to";buttonTxt=void 0===this.getRandomPlace(e)?"Ok":"Let's Go";var o={message:a,title:s,buttonText:buttonTxt,success:function(){}};this.customAlertBox(o)},registerHandlebarHelpers:function(){Handlebars.registerHelper("toLowerCase",function(e){return e.toLowerCase()})},setSelectedPlaces:function(e){o.push(e)},scrollToElement:function(t,n){n=n||0,e("body, html").animate({scrollTop:t.offset().top+n})}}}(jQuery);$(function(){Site.init()}),$(window).load(function(){});